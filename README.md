# TravelPro - á»¨ng Dá»¥ng Láº­p Lá»‹ch TrÃ¬nh Du Lá»‹ch ThÃ´ng Minh

## ThÃ´ng tin dá»± Ã¡n

**MÃ´n há»c:** TÆ° duy tÃ­nh toÃ¡n
**Chá»§ Ä‘á»:** TravelPro - Smart Travel Planning & Expense Management
**CÃ´ng nghá»‡:** Flutter Frontend + Python Backend
**Sá»‘ thÃ nh viÃªn:** 4 ngÆ°á»i  
**Concept:** Káº¿t há»£p Notion Timeline + AI Assistant (khÃ´ng há»— trá»£ booking)

## Má»¥c tiÃªu dá»± Ã¡n

XÃ¢y dá»±ng má»™t á»©ng dá»¥ng láº­p lá»‹ch trÃ¬nh du lá»‹ch thÃ´ng minh vá»›i quáº£n lÃ½ chi tiÃªu tÃ­ch há»£p, giÃºp ngÆ°á»i dÃ¹ng:

- **Láº­p lá»‹ch trÃ¬nh du lá»‹ch** vá»›i timeline tÆ°Æ¡ng tÃ¡c nhÆ° Notion
- **Quáº£n lÃ½ chi tiÃªu** theo tá»«ng chuyáº¿n Ä‘i vá»›i phÃ¢n tÃ­ch thÃ´ng minh  
- **KhÃ¡m phÃ¡ Ä‘á»‹a Ä‘iá»ƒm du lá»‹ch** vá»›i thÃ´ng tin chi tiáº¿t vÃ  Ä‘Ã¡nh giÃ¡
- **Chatbot AI** há»— trá»£ tá»‘i Æ°u hÃ³a lá»‹ch trÃ¬nh vÃ  gá»£i Ã½ Ä‘á»‹a Ä‘iá»ƒm 24/7
- **PhÃ¢n tÃ­ch tráº£i nghiá»‡m** Ä‘á»ƒ cáº£i thiá»‡n cÃ¡c chuyáº¿n Ä‘i tÆ°Æ¡ng lai

## Core Features - TÃ­nh nÄƒng chÃ­nh

### ğŸ“… Trip Planning - Láº­p Lá»‹ch TrÃ¬nh (Core Feature)

#### ğŸ¨ Interactive Timeline Interface

- **Notion-style Timeline:** Advanced drag & drop vá»›i visual timeline
- **Multi-view Support:** Day, week, month timeline views
- **Activity Blocks:** Draggable activity cards vá»›i color coding
- **Smart Scheduling:** AI Ä‘á» xuáº¥t thá»i gian tá»‘i Æ°u cho tá»«ng hoáº¡t Ä‘á»™ng
- **Conflict Detection:** Auto-detect scheduling conflicts
- **Time Zone Support:** Multi-timezone planning cho international trips

#### ğŸ¤ Real-time Collaboration System

- **Live Collaboration:** Multiple users editing simultaneously
- **User Presence:** See who's online vÃ  active cursors
- **Permission Management:** Owner, Editor, Viewer roles
- **Comment & Discussion:** Thread-based comments trÃªn activities
- **Change History:** Complete version control vá»›i undo/redo
- **Conflict Resolution:** Smart merge conflict handling
- **Notifications:** Real-time updates vá» changes vÃ  mentions

#### ğŸ“š Smart Templates & Planning

- **Template Library:** Curated collection theo destinations
- **Custom Templates:** Create vÃ  share personal templates
- **AI Suggestions:** Intelligent activity recommendations
- **Duplicate Detection:** Avoid duplicate activities
- **Backup Plans:** Alternative options cho weather/availability

#### ğŸŒ Advanced Integrations

- **Weather Integration:** Real-time weather vá»›i activity adjustments
- **Route Optimization:** Multi-stop route planning
- **Local Events:** Discover festivals vÃ  seasonal events
- **Transportation:** Public transport schedules integration

### ğŸ’° Expense Management - Quáº£n lÃ½ Chi tiÃªu

- **Budget Planning:** Láº­p ngÃ¢n sÃ¡ch chi tiáº¿t cho tá»«ng chuyáº¿n Ä‘i
- **Real-time Tracking:** Theo dÃµi chi tiÃªu theo thá»i gian thá»±c
- **Category Analysis:** PhÃ¢n tÃ­ch chi tiÃªu theo danh má»¥c (Äƒn uá»‘ng, di chuyá»ƒn, tham quan)
- **Multi-currency Support:** Há»— trá»£ Ä‘a tiá»n tá»‡ vá»›i tá»· giÃ¡ thá»i gian thá»±c
- **Expense Reports:** BÃ¡o cÃ¡o chi tiÃªu trá»±c quan vá»›i biá»ƒu Ä‘á»“

### ğŸ¯ Discovery - KhÃ¡m phÃ¡ Äá»‹a Ä‘iá»ƒm

- **Destination Database:** CÆ¡ sá»Ÿ dá»¯ liá»‡u Ä‘á»‹a Ä‘iá»ƒm vá»›i thÃ´ng tin chi tiáº¿t
- **Smart Recommendations:** AI gá»£i Ã½ dá»±a trÃªn sá»Ÿ thÃ­ch vÃ  lá»‹ch sá»­
- **Photo Gallery:** ThÆ° viá»‡n áº£nh vÃ  Ä‘Ã¡nh giÃ¡ tá»« cá»™ng Ä‘á»“ng
- **Video Content:** YouTube travel videos vÃ  destination guides
- **Category Filtering:** Lá»c theo loáº¡i hÃ¬nh (vÄƒn hÃ³a, thiÃªn nhiÃªn, áº©m thá»±c)
- **Local Insights:** ThÃ´ng tin Ä‘á»‹a phÆ°Æ¡ng vÃ  máº¹o tá»« locals
- **Reviews System:** Há»‡ thá»‘ng Ä‘Ã¡nh giÃ¡ vÃ  chia sáº» tráº£i nghiá»‡m

### ğŸ¤– AI Assistant - Chatbot ThÃ´ng minh (Core Feature)

- **24/7 Travel Consultant:** TÆ° váº¥n lá»‹ch trÃ¬nh vÃ  Ä‘á»‹a Ä‘iá»ƒm má»i lÃºc
- **Itinerary Optimization:** PhÃ¢n tÃ­ch vÃ  Ä‘á» xuáº¥t cáº£i thiá»‡n lá»‹ch trÃ¬nh
- **Budget Advisor:** TÆ° váº¥n tá»‘i Æ°u chi phÃ­ cho tá»«ng hoáº¡t Ä‘á»™ng
- **Real-time Adjustments:** Äiá»u chá»‰nh káº¿ hoáº¡ch theo thá»i tiáº¿t/tÃ¬nhå†µ
- **Local Knowledge:** Chia sáº» thÃ´ng tin Ä‘á»‹a phÆ°Æ¡ng vÃ  vÄƒn hÃ³a
- **Personalized Tips:** Gá»£i Ã½ cÃ¡ nhÃ¢n hÃ³a dá»±a trÃªn sá»Ÿ thÃ­ch

## Tech Stack - CÃ´ng nghá»‡ sá»­ dá»¥ng

### ğŸ“± Frontend (Flutter)

- **Framework:** Flutter 3.x
- **State Management:** Provider/Riverpod cho reactive state
- **UI/UX:** Material Design 3 + Custom timeline components
- **Navigation:** Go Router cho navigation
- **Local Storage:** SQLite cho offline data
- **Maps:** Google Maps SDK cho location services
- **HTTP:** Dio cho API calls tá»›i Python backend

### ğŸ Backend (Python)

- **Framework:** FastAPI cho REST APIs
- **Database:** PostgreSQL cho production data
- **Cache:** Redis cho caching vÃ  session management
- **AI/ML:**
  - OpenAI GPT-4 cho chatbot
  - scikit-learn cho recommendation engine
  - NLTK cho text processing
- **Maps:** Google Places API, OpenStreetMap
- **Weather:** OpenWeatherMap API
- **Deployment:** Docker + Railway/Heroku

### ğŸ”§ Development Tools

- **Frontend IDE:** VS Code vá»›i Flutter extensions
- **Backend IDE:** PyCharm/VS Code
- **Version Control:** Git & GitHub
- **API Testing:** Postman/Thunder Client
- **Design:** Figma cho UI/UX prototypes
- **Database:** pgAdmin cho PostgreSQL management

## Cáº¥u trÃºc Project

### Frontend Structure (Flutter)

```text
TravelerApplication/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ core/                           # Core utilities & config
â”‚   â”‚   â”œâ”€â”€ constants/                  # App constants, API endpoints
â”‚   â”‚   â”œâ”€â”€ utils/                      # Helper functions, extensions
â”‚   â”‚   â”œâ”€â”€ services/                   # API services, HTTP client
â”‚   â”‚   â”œâ”€â”€ theme/                      # App theme, colors, typography
â”‚   â”‚   â””â”€â”€ config/                     # Environment config
â”‚   â”œâ”€â”€ shared/                         # Shared components
â”‚   â”‚   â”œâ”€â”€ models/                     # Data models (Trip, Place, User)
â”‚   â”‚   â”œâ”€â”€ widgets/                    # Reusable widgets
â”‚   â”‚   â”œâ”€â”€ providers/                  # Global state providers
â”‚   â”‚   â””â”€â”€ utils/                      # Shared utilities
â”‚   â”œâ”€â”€ features/                       # Feature modules
â”‚   â”‚   â”œâ”€â”€ auth/                       # Authentication
â”‚   â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”‚   â””â”€â”€ screens/
â”‚   â”‚   â”œâ”€â”€ trip_planning/              # Láº­p lá»‹ch trÃ¬nh (Core)
â”‚   â”‚   â”‚   â”œâ”€â”€ models/                 # Trip, Activity, Timeline models
â”‚   â”‚   â”‚   â”œâ”€â”€ services/               # Trip API services, WebSocket
â”‚   â”‚   â”‚   â”œâ”€â”€ providers/              # Advanced state management
â”‚   â”‚   â”‚   â”œâ”€â”€ widgets/                # Timeline components
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ timeline/           # Core timeline widgets
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ drag_drop/          # Drag & drop system
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ collaboration/      # Real-time collaboration UI
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ templates/          # Template widgets
â”‚   â”‚   â”‚   â”œâ”€â”€ screens/                # Trip screens
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ trip_list/          # Trip listing
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ trip_editor/        # Main timeline editor
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ collaboration/      # Collaboration management
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ templates/          # Template browser
â”‚   â”‚   â”‚   â””â”€â”€ utils/                  # Timeline utilities
â”‚   â”‚   â”œâ”€â”€ collaboration/              # Real-time collaboration (QuÃ¢n)
â”‚   â”‚   â”‚   â”œâ”€â”€ models/                 # Collaboration models
â”‚   â”‚   â”‚   â”œâ”€â”€ services/               # WebSocket services
â”‚   â”‚   â”‚   â”œâ”€â”€ providers/              # Real-time state management
â”‚   â”‚   â”‚   â””â”€â”€ widgets/                # Collaboration widgets
â”‚   â”‚   â”œâ”€â”€ discovery/                  # KhÃ¡m phÃ¡ Ä‘á»‹a Ä‘iá»ƒm
â”‚   â”‚   â”‚   â”œâ”€â”€ models/                 # Place, Review models
â”‚   â”‚   â”‚   â”œâ”€â”€ services/               # Discovery API services
â”‚   â”‚   â”‚   â”œâ”€â”€ providers/              # Discovery state
â”‚   â”‚   â”‚   â”œâ”€â”€ widgets/                # Place cards, filters
â”‚   â”‚   â”‚   â””â”€â”€ screens/                # Discovery screens
â”‚   â”‚   â”œâ”€â”€ ai_assistant/               # Chatbot
â”‚   â”‚   â”‚   â”œâ”€â”€ models/                 # Chat, Message models
â”‚   â”‚   â”‚   â”œâ”€â”€ services/               # Chat API services
â”‚   â”‚   â”‚   â”œâ”€â”€ providers/              # Chat state
â”‚   â”‚   â”‚   â”œâ”€â”€ widgets/                # Chat bubble, input widgets
â”‚   â”‚   â”‚   â””â”€â”€ screens/                # Chat screens
â”‚   â”‚   â”œâ”€â”€ expense_tracking/           # Quáº£n lÃ½ chi tiÃªu (Basic)
â”‚   â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”‚   â””â”€â”€ screens/
â”‚   â”‚   â””â”€â”€ home/                       # Dashboard
â”‚   â”‚       â”œâ”€â”€ models/
â”‚   â”‚       â”œâ”€â”€ services/
â”‚   â”‚       â”œâ”€â”€ providers/
â”‚   â”‚       â””â”€â”€ screens/
â”‚   â””â”€â”€ main.dart
â””â”€â”€ assets/                             # Design assets

### Backend Structure (Python)
```text
travelpro-backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ core/                           # Core utilities
â”‚   â”‚   â”œâ”€â”€ config.py                   # App configuration
â”‚   â”‚   â”œâ”€â”€ database.py                 # Database connection
â”‚   â”‚   â”œâ”€â”€ security.py                 # Authentication utilities
â”‚   â”‚   â””â”€â”€ exceptions.py               # Custom exceptions
â”‚   â”œâ”€â”€ models/                         # Database models
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”œâ”€â”€ trip.py
â”‚   â”‚   â”œâ”€â”€ place.py
â”‚   â”‚   â”œâ”€â”€ activity.py
â”‚   â”‚   â””â”€â”€ chat.py
â”‚   â”œâ”€â”€ api/                            # API routes
â”‚   â”‚   â”œâ”€â”€ endpoints/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py
â”‚   â”‚   â”‚   â”œâ”€â”€ trips.py                # Trip CRUD operations
â”‚   â”‚   â”‚   â”œâ”€â”€ places.py               # Place discovery APIs
â”‚   â”‚   â”‚   â”œâ”€â”€ chat.py                 # Chatbot APIs
â”‚   â”‚   â”‚   â”œâ”€â”€ expenses.py             # Basic expense APIs
â”‚   â”‚   â”‚   â””â”€â”€ collaboration.py        # Collaboration APIs 
â”‚   â”‚   â””â”€â”€ deps.py                     # Dependencies
â”‚   â”œâ”€â”€ services/                       # Business logic
â”‚   â”‚   â”œâ”€â”€ ai_service.py               # OpenAI integration
â”‚   â”‚   â”œâ”€â”€ recommendation_service.py   # ML recommendations
â”‚   â”‚   â”œâ”€â”€ maps_service.py             # Google Maps integration
â”‚   â”‚   â”œâ”€â”€ weather_service.py          # Weather APIs
â”‚   â”‚   â”œâ”€â”€ trip_optimizer.py           # Route optimization
â”‚   â”‚   â”œâ”€â”€ websocket_service.py        # Real-time collaboration 
â”‚   â”‚   â”œâ”€â”€ template_service.py         # Template management
â”‚   â”‚   â”œâ”€â”€ notification_service.py     # Push notifications
â”‚   â”‚   â””â”€â”€ youtube_service.py          # YouTube API integration (Thuáº­n)
â”‚   â””â”€â”€ main.py                         # FastAPI app
â”œâ”€â”€ alembic/                            # Database migrations
â”œâ”€â”€ tests/
â”œâ”€â”€ requirements.txt
â””â”€â”€ docker-compose.yml
```

## Team Assignment - PhÃ¢n chia cÃ´ng viá»‡c

### ğŸ‘¨â€ğŸ’¼ DÆ°Æ¡ng Anh Kiá»‡t: Backend Lead & AI Assistant Feature

**Backend modules phá»¥ trÃ¡ch:**

- `app/core/` - Core backend architecture (Lead)
- `app/models/` - Database models design (Lead)
- `app/services/ai_service.py` - OpenAI chatbot integration
- `app/api/endpoints/chat.py` - Chat APIs
- `app/api/endpoints/auth.py` - Authentication APIs

**Frontend modules phá»¥ trÃ¡ch:**

- `lib/features/ai_assistant/` - Complete AI Assistant feature
- `lib/core/services/` - API client setup (Lead)

**Nhiá»‡m vá»¥ chÃ­nh:**

- Lead backend architecture vá»›i FastAPI + PostgreSQL
- Implement complete AI Assistant feature (backend + frontend)
- Design vÃ  manage toÃ n bá»™ database schema
- Authentication system (login, register, JWT)
- Backend deployment vÃ  DevOps

### ğŸ’° LÃª PhÃºc Khang: Expense Management & Analytics Feature

**Backend modules phá»¥ trÃ¡ch:**

- `app/api/endpoints/expenses.py` - Complete Expense APIs
- `app/services/analytics_service.py` - Advanced data analytics
- `app/services/currency_service.py` - Multi-currency support

**Frontend modules phá»¥ trÃ¡ch:**

- `lib/features/expense_tracking/` - Complete expense management
- `lib/features/home/` - Dashboard vá»›i expense analytics
- `lib/shared/widgets/` - Charts vÃ  visualization components

**Nhiá»‡m vá»¥ chÃ­nh:**

- Complete Expense Management feature (backend + frontend)
- Advanced analytics vÃ  reporting system
- Multi-currency support vá»›i real-time exchange rates
- Budget planning vÃ  spending insights
- Export functionality (PDF, Excel)

### ğŸ“… Nguyá»…n Kiá»u Anh QuÃ¢n: Frontend Lead & Trip Planning Feature

**Frontend modules phá»¥ trÃ¡ch:**

- `lib/core/theme/` - Complete design system (Lead)
- `lib/shared/widgets/` - UI component library (Lead)
- `assets/` - Icons, illustrations, animations (Lead)
- `lib/features/trip_planning/` - Complete Trip Planning feature
- `lib/features/collaboration/` - Real-time collaboration system
- Cross-module UI consistency (Lead)

**Backend modules phá»¥ trÃ¡ch:**

- `app/api/endpoints/trips.py` - Trip management APIs
- `app/api/endpoints/collaboration.py` - Collaboration APIs
- `app/services/websocket_service.py` - Real-time collaboration

**Nhiá»‡m vá»¥ chÃ­nh:**

- Lead frontend architecture vÃ  design system
- Complete Trip Planning feature (Notion-style timeline)
- Real-time collaboration system (WebSocket)
- Advanced UI components vÃ  animations
- Mobile-responsive design vá»›i 60fps performance

### ğŸ¯ Nguyá»…n DÆ°Æ¡ng Gia Thuáº­n: Discovery & Maps Feature

**Backend modules phá»¥ trÃ¡ch:**

- `app/api/endpoints/places.py` - Complete Places APIs
- `app/services/recommendation_service.py` - AI recommendation engine
- `app/services/maps_service.py` - Google Maps integration
- `app/services/weather_service.py` - Weather integration
- `app/services/youtube_service.py` - YouTube API integration

**Frontend modules phá»¥ trÃ¡ch:**

- `lib/features/discovery/` - Complete discovery system
- `lib/features/auth/` - Authentication UI screens

**Nhiá»‡m vá»¥ chÃ­nh:**

- Complete Discovery & Maps feature (backend + frontend)
- AI-powered recommendation engine
- Google Places API vÃ  Maps integration
- Weather API integration cho trip planning
- YouTube API integration cho travel videos vÃ  guides
- Reviews, ratings vÃ  photo gallery system

## Development Timeline - 8 weeks

### Phase 1: Foundation Setup (Weeks 1-2)

| Member | Backend Tasks | Frontend Tasks |
|--------|---------------|----------------|
| **Kiá»‡t (Backend Lead)** | FastAPI architecture, DB schema, Auth APIs | API client setup, AI Assistant wireframes |
| **Khang** | Expense APIs foundation | Expense UI mockups, dashboard design |
| **QuÃ¢n (Frontend Lead)** | Trip APIs foundation | **Complete Design System**, component library |
| **Thuáº­n** | Places APIs, Google Maps setup | Discovery UI mockups, auth screens |

### Phase 2: Core Features (Weeks 3-5)

| Member | Backend Tasks | Frontend Tasks |
|--------|---------------|----------------|
| **Kiá»‡t** | **Complete AI Assistant backend**, OpenAI integration | **Complete AI Assistant UI**, chat interface |
| **Khang** | **Complete Expense APIs**, analytics engine | **Complete Expense Management**, dashboard charts |
| **QuÃ¢n** | Trip APIs, collaboration backend | **Advanced Timeline System**, drag & drop interface |
| **Thuáº­n** | **Complete Places APIs**, recommendation ML | **Complete Discovery System**, search & filters |

### Phase 3: Integration & Advanced Features (Weeks 6-7)

| Member | Backend Tasks | Frontend Tasks |
|--------|---------------|----------------|
| **Kiá»‡t** | AI trip optimization, chatbot training | Advanced chatbot features, voice input |
| **Khang** | Multi-currency APIs, export services | Advanced analytics, export functionality |
| **QuÃ¢n** | **Real-time collaboration**, WebSocket | **Live Collaboration UI**, user presence |
| **Thuáº­n** | Weather APIs, YouTube API, reviews system | Maps integration, video content, photo gallery |

### Phase 4: Polish & Testing (Week 8)

- Integration testing between frontend/backend
- Performance optimization
- UI/UX refinements
- Bug fixes vÃ  stability
- Demo preparation

## API Endpoints Design

### Authentication APIs

```
POST /api/auth/register
POST /api/auth/login  
POST /api/auth/refresh
GET /api/auth/profile
```

### Trip Planning APIs (Core)

```
# Basic Trip Management
GET /api/trips                    # User's trips
POST /api/trips                   # Create trip
GET /api/trips/{trip_id}         # Trip details
PUT /api/trips/{trip_id}         # Update trip
DELETE /api/trips/{trip_id}      # Delete trip

# Activity Management
POST /api/trips/{trip_id}/activities  # Add activity
PUT /api/activities/{activity_id}     # Update activity
DELETE /api/activities/{activity_id}  # Delete activity
POST /api/activities/batch            # Batch operations
POST /api/trips/{trip_id}/optimize    # AI optimize route

# Collaboration APIs (QuÃ¢n's specialty)
POST /api/trips/{trip_id}/collaborators     # Add collaborator
DELETE /api/trips/{trip_id}/collaborators/{user_id}  # Remove collaborator
GET /api/trips/{trip_id}/collaborators      # List collaborators
PUT /api/trips/{trip_id}/permissions        # Update permissions
GET /api/trips/{trip_id}/activity-feed      # Get activity feed
POST /api/trips/{trip_id}/comments          # Add comment
GET /api/activities/{activity_id}/comments  # Get comments

# Template System
GET /api/templates                    # Public templates
POST /api/templates                   # Create template
GET /api/templates/{template_id}      # Template details
POST /api/trips/{trip_id}/apply-template  # Apply template
GET /api/users/templates              # User's templates

# Real-time Collaboration
WS /api/trips/{trip_id}/live          # WebSocket for real-time sync
POST /api/trips/{trip_id}/presence    # Update user presence
GET /api/trips/{trip_id}/conflicts    # Get merge conflicts
POST /api/trips/{trip_id}/resolve     # Resolve conflicts
```

### Discovery APIs

```
GET /api/places/search           # Search places
GET /api/places/{place_id}       # Place details
GET /api/places/recommendations  # AI recommendations
POST /api/places/{place_id}/reviews  # Add review
GET /api/places/categories       # Place categories
```

### Chatbot APIs (Core)

```
POST /api/chat/message           # Send message
GET /api/chat/history           # Chat history
POST /api/chat/trip-advice      # Trip-specific advice
POST /api/chat/optimize-itinerary # Itinerary optimization
```

### Expense APIs (Basic)

```
GET /api/expenses               # User expenses
POST /api/expenses             # Add expense
PUT /api/expenses/{expense_id} # Update expense  
DELETE /api/expenses/{expense_id} # Delete expense
GET /api/expenses/analytics    # Expense analytics
```

## Development Setup

### Backend Setup (Python)

```bash
# 1. Clone vÃ  setup backend
git clone https://github.com/lephuckhang186/travelpro-backend
cd travelpro-backend

# 2. Create virtual environment
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 3. Install dependencies
pip install -r requirements.txt

# 4. Setup environment variables
cp .env.example .env
# Cáº­p nháº­t DATABASE_URL, OPENAI_API_KEY, etc.

# 5. Setup database
alembic upgrade head

# 6. Run development server
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### Frontend Setup (Flutter)

```bash
# 1. Setup Flutter project
cd TravelerApplication
flutter pub get

# 2. Configure API endpoints
# Cáº­p nháº­t base URL trong lib/core/constants/api_constants.dart

# 3. Run Flutter app
flutter run
```

### Environment Variables

#### Backend (.env)

```bash
DATABASE_URL=postgresql://user:password@localhost/travelpro_db
REDIS_URL=redis://localhost:6379
OPENAI_API_KEY=your_openai_api_key
GOOGLE_MAPS_API_KEY=your_google_maps_key
WEATHER_API_KEY=your_weather_api_key
YOUTUBE_API_KEY=your_youtube_api_key
SECRET_KEY=your_jwt_secret_key
```

#### Frontend (API Constants)

```dart
class ApiConstants {
  static const String baseUrl = 'http://localhost:8000/api';
  static const String chatEndpoint = '/chat';
  static const String tripsEndpoint = '/trips';
  static const String placesEndpoint = '/places';
}
```

## Git Workflow

### Branch Strategy

```bash
main                    # Production
â””â”€â”€ develop            # Development integration
    â”œâ”€â”€ backend/        # Backend development
    â”‚   â”œâ”€â”€ feature/chat-api     # Kiá»‡t
    â”‚   â””â”€â”€ feature/places-api   # Thuáº­n
    â””â”€â”€ frontend/       # Frontend development
        â”œâ”€â”€ feature/timeline-ui   # QuÃ¢n
        â””â”€â”€ feature/expense-ui    # Khang
```

### Daily Workflow

```bash
# 1. Láº¥y code má»›i nháº¥t
git checkout develop
git pull origin develop

# 2. Táº¡o/chuyá»ƒn sang feature branch
git checkout -b feature/your-feature-name

# 3. Commit thÆ°á»ng xuyÃªn
git add .
git commit -m "feat: add trip planning timeline"

# 4. Push vÃ  táº¡o Pull Request
git push origin feature/your-feature-name
# Táº¡o PR trÃªn GitHub, assign reviewer
```

## Testing Strategy

### Backend Testing (Python)

```bash
# Unit tests
pytest tests/unit/

# Integration tests
pytest tests/integration/

# API tests
pytest tests/api/

# Test coverage
pytest --cov=app
```

### Frontend Testing (Flutter)

```bash
# Unit tests
flutter test test/unit/

# Widget tests  
flutter test test/widget/

# Integration tests
flutter test integration_test/

# Test coverage
flutter test --coverage
```

## Computational Thinking Application

### 1. Problem Analysis (PhÃ¢n tÃ­ch váº¥n Ä‘á»)

- **Input:** Sá»Ÿ thÃ­ch, ngÃ¢n sÃ¡ch, thá»i gian, vá»‹ trÃ­ GPS
- **Output:** Danh sÃ¡ch Ä‘á» xuáº¥t Ä‘Æ°á»£c cÃ¡ nhÃ¢n hÃ³a
- **Context:** Giáº£i quyáº¿t váº¥n Ä‘á» du lá»‹ch thiáº¿u thÃ´ng tin vÃ  cÃ¡ nhÃ¢n hÃ³a

### 2. Decomposition (PhÃ¢n rÃ£ váº¥n Ä‘á»)

- Module láº­p káº¿ hoáº¡ch du lá»‹ch
- Há»‡ thá»‘ng Ä‘á» xuáº¥t thÃ´ng minh  
- Giao diá»‡n ngÆ°á»i dÃ¹ng
- TÃ­ch há»£p AI vÃ  xá»­ lÃ½ dá»¯ liá»‡u

### 3. Pattern Recognition (Nháº­n dáº¡ng máº«u)

- PhÃ¢n tÃ­ch hÃ nh vi ngÆ°á»i dÃ¹ng
- Clustering Ä‘á»‹a Ä‘iá»ƒm theo loáº¡i hÃ¬nh
- Pattern matching cho recommendation

### 4. Abstraction (Trá»«u tÆ°á»£ng hÃ³a)

- User preferences model
- Location vÃ  rating abstraction  
- API service abstraction layer

### 5. Algorithm Design (Thiáº¿t káº¿ thuáº­t toÃ¡n)

- Collaborative filtering cho recommendation
- Dijkstra/A* cho route optimization
- NLP processing cho chatbot

## Database Schema Design

### Core Tables

```sql
-- Users table
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    email VARCHAR(255) UNIQUE NOT NULL,
    name VARCHAR(255) NOT NULL,
    avatar_url VARCHAR(500),
    preferences JSONB,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Trips table (Core)
CREATE TABLE trips (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    title VARCHAR(255) NOT NULL,
    description TEXT,
    destination VARCHAR(255),
    start_date DATE,
    end_date DATE,
    budget DECIMAL(10,2),
    currency VARCHAR(3),
    is_collaborative BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Places table
CREATE TABLE places (
    id SERIAL PRIMARY KEY,
    google_place_id VARCHAR(255) UNIQUE,
    name VARCHAR(255) NOT NULL,
    address TEXT,
    latitude DECIMAL(10,8),
    longitude DECIMAL(11,8),
    category VARCHAR(100),
    rating DECIMAL(2,1),
    photo_urls TEXT[],
    description TEXT
);

-- Activities table (Core - Timeline items)
CREATE TABLE activities (
    id SERIAL PRIMARY KEY,
    trip_id INTEGER REFERENCES trips(id),
    place_id INTEGER REFERENCES places(id),
    title VARCHAR(255) NOT NULL,
    description TEXT,
    start_time TIMESTAMP,
    end_time TIMESTAMP,
    estimated_cost DECIMAL(10,2),
    notes TEXT,
    order_index INTEGER,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Expenses table (Basic)
CREATE TABLE expenses (
    id SERIAL PRIMARY KEY,
    trip_id INTEGER REFERENCES trips(id),
    user_id INTEGER REFERENCES users(id),
    title VARCHAR(255) NOT NULL,
    amount DECIMAL(10,2) NOT NULL,
    currency VARCHAR(3),
    category VARCHAR(50),
    date DATE,
    notes TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Chat messages (AI Assistant)
CREATE TABLE chat_messages (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    trip_id INTEGER REFERENCES trips(id),
    message TEXT NOT NULL,
    is_from_user BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Trip Collaborators (QuÃ¢n's collaboration system)
CREATE TABLE trip_collaborators (
    id SERIAL PRIMARY KEY,
    trip_id INTEGER REFERENCES trips(id),
    user_id INTEGER REFERENCES users(id),
    role VARCHAR(20) DEFAULT 'viewer', -- owner, editor, viewer
    invited_by INTEGER REFERENCES users(id),
    joined_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(trip_id, user_id)
);

-- Activity Comments
CREATE TABLE activity_comments (
    id SERIAL PRIMARY KEY,
    activity_id INTEGER REFERENCES activities(id),
    user_id INTEGER REFERENCES users(id),
    comment TEXT NOT NULL,
    parent_comment_id INTEGER REFERENCES activity_comments(id),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Trip Templates
CREATE TABLE trip_templates (
    id SERIAL PRIMARY KEY,
    created_by INTEGER REFERENCES users(id),
    title VARCHAR(255) NOT NULL,
    description TEXT,
    destination VARCHAR(255),
    duration_days INTEGER,
    category VARCHAR(100),
    is_public BOOLEAN DEFAULT FALSE,
    usage_count INTEGER DEFAULT 0,
    rating DECIMAL(2,1) DEFAULT 0,
    template_data JSONB, -- Serialized timeline structure
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Real-time Presence (for collaboration)
CREATE TABLE user_presence (
    id SERIAL PRIMARY KEY,
    trip_id INTEGER REFERENCES trips(id),
    user_id INTEGER REFERENCES users(id),
    cursor_position JSONB,
    selected_activity_id INTEGER,
    last_seen TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(trip_id, user_id)
);

-- Change History (for version control)
CREATE TABLE trip_changes (
    id SERIAL PRIMARY KEY,
    trip_id INTEGER REFERENCES trips(id),
    user_id INTEGER REFERENCES users(id),
    change_type VARCHAR(50), -- create, update, delete, move
    entity_type VARCHAR(50), -- trip, activity, comment
    entity_id INTEGER,
    old_data JSONB,
    new_data JSONB,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Activity Mentions (for notifications)
CREATE TABLE activity_mentions (
    id SERIAL PRIMARY KEY,
    comment_id INTEGER REFERENCES activity_comments(id),
    mentioned_user_id INTEGER REFERENCES users(id),
    mentioned_by INTEGER REFERENCES users(id),
    is_read BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

## External APIs Integration

### ğŸ—ºï¸ Maps & Location

- **Google Maps:** Places, Directions, Geocoding
- **OpenStreetMap:** Alternative mapping solution
- **Foursquare:** Venue data vÃ  reviews

### ğŸ¥ Video Content

- **YouTube Data API:** Travel videos vÃ  destination guides
- **Video Recommendations:** AI-curated travel content
- **Local Creator Content:** Discover local travel creators

### ğŸŒ¦ï¸ Weather & Context

- **OpenWeatherMap:** Weather forecasts
- **Time Zone DB:** Local time information

### ğŸ¤– AI & ML Services

- **OpenAI GPT-4:** Chatbot conversation
- **Google Cloud AI:** Text analysis
- **Custom ML Models:** Recommendation engine

### ğŸ’° Financial Services

- **ExchangeRate-API:** Real-time currency conversion
- **Fixer.io:** Alternative currency API

## Success Metrics - Chá»‰ tiÃªu thÃ nh cÃ´ng

### ğŸ¥ Demo Deliverables

1. **Functional MVP:** Core timeline planning + expense tracking
2. **AI Chatbot:** Working assistant vá»›i contextual responses
3. **Backend APIs:** Full REST API vá»›i Python FastAPI
4. **UI/UX Showcase:** Notion-style timeline vá»›i smooth interactions
5. **Live Demo:** Real-time trip planning vÃ  collaborative editing

### ğŸ“ˆ Performance Targets

- **API Response:** < 2 seconds average
- **App Launch:** < 3 seconds on mobile
- **Offline Capability:** Core features work without internet
- **Cross-platform:** Consistent experience iOS/Android
- **Team Velocity:** 0% merge conflicts, 100% parallel development

### ğŸ“Š Technical Achievements

- **Backend:** Scalable FastAPI + PostgreSQL + Redis architecture
- **AI Integration:** OpenAI GPT-4 vá»›i contextual trip advice
- **Advanced UI/UX:** Notion-level timeline complexity vá»›i Flutter
- **Real-time Collaboration:** WebSocket-powered live editing vá»›i user presence
- **Mobile Performance:** 60fps timeline animations vá»›i complex interactions
- **Design System:** Comprehensive Material Design 3 implementation
- **Accessibility:** WCAG 2.1 compliant collaborative interface
- **Conflict Resolution:** Smart merge system cho concurrent editing
- **Cross-platform:** Consistent experience across all devices
- **Data Analytics:** Expense insights vÃ  trip optimization

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---
