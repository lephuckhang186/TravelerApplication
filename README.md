# TravelPro - ·ª®ng D·ª•ng L·∫≠p L·ªãch Tr√¨nh Du L·ªãch Th√¥ng Minh

## Th√¥ng tin d·ª± √°n

**M√¥n h·ªçc:** T∆∞ duy t√≠nh to√°n
**Ch·ªß ƒë·ªÅ:** TravelPro - Smart Travel Planning & Expense Management
**C√¥ng ngh·ªá:** Flutter Frontend + Python Backend
**S·ªë th√†nh vi√™n:** 4 ng∆∞·ªùi  
**Concept:** K·∫øt h·ª£p Notion Timeline + AI Assistant (kh√¥ng h·ªó tr·ª£ booking)

## M·ª•c ti√™u d·ª± √°n

X√¢y d·ª±ng m·ªôt ·ª©ng d·ª•ng l·∫≠p l·ªãch tr√¨nh du l·ªãch th√¥ng minh v·ªõi qu·∫£n l√Ω chi ti√™u t√≠ch h·ª£p, gi√∫p ng∆∞·ªùi d√πng:

- **L·∫≠p l·ªãch tr√¨nh du l·ªãch** v·ªõi timeline t∆∞∆°ng t√°c nh∆∞ Notion
- **Qu·∫£n l√Ω chi ti√™u** theo t·ª´ng chuy·∫øn ƒëi v·ªõi ph√¢n t√≠ch th√¥ng minh  
- **Kh√°m ph√° ƒë·ªãa ƒëi·ªÉm du l·ªãch** v·ªõi th√¥ng tin chi ti·∫øt v√† ƒë√°nh gi√°
- **Chatbot AI** h·ªó tr·ª£ t·ªëi ∆∞u h√≥a l·ªãch tr√¨nh v√† g·ª£i √Ω ƒë·ªãa ƒëi·ªÉm 24/7
- **Ph√¢n t√≠ch tr·∫£i nghi·ªám** ƒë·ªÉ c·∫£i thi·ªán c√°c chuy·∫øn ƒëi t∆∞∆°ng lai

## Core Features - T√≠nh nƒÉng ch√≠nh

### üìÖ Trip Planning - L·∫≠p L·ªãch Tr√¨nh (Core Feature)

#### üé® Interactive Timeline Interface

- **Notion-style Timeline:** Advanced drag & drop v·ªõi visual timeline
- **Multi-view Support:** Day, week, month timeline views
- **Activity Blocks:** Draggable activity cards v·ªõi color coding
- **Smart Scheduling:** AI ƒë·ªÅ xu·∫•t th·ªùi gian t·ªëi ∆∞u cho t·ª´ng ho·∫°t ƒë·ªông
- **Conflict Detection:** Auto-detect scheduling conflicts
- **Time Zone Support:** Multi-timezone planning cho international trips

#### ü§ù Real-time Collaboration System

- **Live Collaboration:** Multiple users editing simultaneously
- **User Presence:** See who's online v√† active cursors
- **Permission Management:** Owner, Editor, Viewer roles
- **Comment & Discussion:** Thread-based comments tr√™n activities
- **Change History:** Complete version control v·ªõi undo/redo
- **Conflict Resolution:** Smart merge conflict handling
- **Notifications:** Real-time updates v·ªÅ changes v√† mentions

#### üìö Smart Templates & Planning

- **Template Library:** Curated collection theo destinations
- **Custom Templates:** Create v√† share personal templates
- **AI Suggestions:** Intelligent activity recommendations
- **Duplicate Detection:** Avoid duplicate activities
- **Backup Plans:** Alternative options cho weather/availability

#### üåç Advanced Integrations

- **Weather Integration:** Real-time weather v·ªõi activity adjustments
- **Route Optimization:** Multi-stop route planning
- **Local Events:** Discover festivals v√† seasonal events
- **Transportation:** Public transport schedules integration

### üí∞ Expense Management - Qu·∫£n l√Ω Chi ti√™u

- **Budget Planning:** L·∫≠p ng√¢n s√°ch chi ti·∫øt cho t·ª´ng chuy·∫øn ƒëi
- **Real-time Tracking:** Theo d√µi chi ti√™u theo th·ªùi gian th·ª±c
- **Category Analysis:** Ph√¢n t√≠ch chi ti√™u theo danh m·ª•c (ƒÉn u·ªëng, di chuy·ªÉn, tham quan)
- **Multi-currency Support:** H·ªó tr·ª£ ƒëa ti·ªÅn t·ªá v·ªõi t·ª∑ gi√° th·ªùi gian th·ª±c
- **Expense Reports:** B√°o c√°o chi ti√™u tr·ª±c quan v·ªõi bi·ªÉu ƒë·ªì

### üéØ Discovery - Kh√°m ph√° ƒê·ªãa ƒëi·ªÉm

- **Destination Database:** C∆° s·ªü d·ªØ li·ªáu ƒë·ªãa ƒëi·ªÉm v·ªõi th√¥ng tin chi ti·∫øt
- **Smart Recommendations:** AI g·ª£i √Ω d·ª±a tr√™n s·ªü th√≠ch v√† l·ªãch s·ª≠
- **Photo Gallery:** Th∆∞ vi·ªán ·∫£nh v√† ƒë√°nh gi√° t·ª´ c·ªông ƒë·ªìng
- **Video Content:** YouTube travel videos v√† destination guides
- **Category Filtering:** L·ªçc theo lo·∫°i h√¨nh (vƒÉn h√≥a, thi√™n nhi√™n, ·∫©m th·ª±c)
- **Local Insights:** Th√¥ng tin ƒë·ªãa ph∆∞∆°ng v√† m·∫πo t·ª´ locals
- **Reviews System:** H·ªá th·ªëng ƒë√°nh gi√° v√† chia s·∫ª tr·∫£i nghi·ªám

### ü§ñ AI Assistant - Chatbot Th√¥ng minh (Core Feature)

- **24/7 Travel Consultant:** T∆∞ v·∫•n l·ªãch tr√¨nh v√† ƒë·ªãa ƒëi·ªÉm m·ªçi l√∫c
- **Itinerary Optimization:** Ph√¢n t√≠ch v√† ƒë·ªÅ xu·∫•t c·∫£i thi·ªán l·ªãch tr√¨nh
- **Budget Advisor:** T∆∞ v·∫•n t·ªëi ∆∞u chi ph√≠ cho t·ª´ng ho·∫°t ƒë·ªông
- **Real-time Adjustments:** ƒêi·ªÅu ch·ªânh k·∫ø ho·∫°ch theo th·ªùi ti·∫øt/t√¨nhÂÜµ
- **Local Knowledge:** Chia s·∫ª th√¥ng tin ƒë·ªãa ph∆∞∆°ng v√† vƒÉn h√≥a
- **Personalized Tips:** G·ª£i √Ω c√° nh√¢n h√≥a d·ª±a tr√™n s·ªü th√≠ch

## Tech Stack - C√¥ng ngh·ªá s·ª≠ d·ª•ng

### üì± Frontend (Flutter)

- **Framework:** Flutter 3.x
- **State Management:** Provider/Riverpod cho reactive state
- **UI/UX:** Material Design 3 + Custom timeline components
- **Navigation:** Go Router cho navigation
- **Local Storage:** SQLite cho offline data
- **Maps:** Google Maps SDK cho location services
- **HTTP:** Dio cho API calls t·ªõi Python backend

### üêç Backend (Python)

- **Framework:** FastAPI cho REST APIs
- **Database:** PostgreSQL cho production data
- **Cache:** Redis cho caching v√† session management
- **AI/ML:**
  - OpenAI GPT-4 cho chatbot
  - scikit-learn cho recommendation engine
  - NLTK cho text processing
- **Maps:** Google Places API, OpenStreetMap
- **Weather:** OpenWeatherMap API
- **Deployment:** Docker + Railway/Heroku

### üîß Development Tools

- **Frontend IDE:** VS Code v·ªõi Flutter extensions
- **Backend IDE:** PyCharm/VS Code
- **Version Control:** Git & GitHub
- **API Testing:** Postman/Thunder Client
- **Design:** Figma cho UI/UX prototypes
- **Database:** pgAdmin cho PostgreSQL management

## C·∫•u tr√∫c Project

### Frontend Structure (Flutter)

```text
TravelerApplication/
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ core/                           # Core utilities & config
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ constants/                  # App constants, API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/                      # Helper functions, extensions
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/                   # API services, HTTP client
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ theme/                      # App theme, colors, typography
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config/                     # Environment config
‚îÇ   ‚îú‚îÄ‚îÄ shared/                         # Shared components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/                     # Data models (Trip, Place, User)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ widgets/                    # Reusable widgets
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ providers/                  # Global state providers
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/                      # Shared utilities
‚îÇ   ‚îú‚îÄ‚îÄ features/                       # Feature modules
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/                       # Authentication
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ providers/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ screens/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ trip_planning/              # L·∫≠p l·ªãch tr√¨nh (Core)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/                 # Trip, Activity, Timeline models
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/               # Trip API services, WebSocket
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ providers/              # Advanced state management
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ widgets/                # Timeline components
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ timeline/           # Core timeline widgets
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ drag_drop/          # Drag & drop system
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ collaboration/      # Real-time collaboration UI
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ templates/          # Template widgets
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ screens/                # Trip screens
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ trip_list/          # Trip listing
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ trip_editor/        # Main timeline editor
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ collaboration/      # Collaboration management
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ templates/          # Template browser
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/                  # Timeline utilities
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ collaboration/              # Real-time collaboration (Qu√¢n)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/                 # Collaboration models
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/               # WebSocket services
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ providers/              # Real-time state management
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ widgets/                # Collaboration widgets
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ discovery/                  # Kh√°m ph√° ƒë·ªãa ƒëi·ªÉm
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/                 # Place, Review models
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/               # Discovery API services
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ providers/              # Discovery state
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ widgets/                # Place cards, filters
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ screens/                # Discovery screens
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai_assistant/               # Chatbot
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/                 # Chat, Message models
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/               # Chat API services
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ providers/              # Chat state
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ widgets/                # Chat bubble, input widgets
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ screens/                # Chat screens
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ expense_tracking/           # Qu·∫£n l√Ω chi ti√™u (Basic)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ providers/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ screens/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ home/                       # Dashboard
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ providers/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ screens/
‚îÇ   ‚îî‚îÄ‚îÄ main.dart
‚îî‚îÄ‚îÄ assets/                             # Design assets

### Backend Structure (Python)
```text
travelpro-backend/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ core/                           # Core utilities
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py                   # App configuration
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py                 # Database connection
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security.py                 # Authentication utilities
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ exceptions.py               # Custom exceptions
‚îÇ   ‚îú‚îÄ‚îÄ models/                         # Database models
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ trip.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ place.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ activity.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ chat.py
‚îÇ   ‚îú‚îÄ‚îÄ api/                            # API routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ endpoints/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ trips.py                # Trip CRUD operations
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ places.py               # Place discovery APIs
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chat.py                 # Chatbot APIs
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ expenses.py             # Basic expense APIs
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ collaboration.py        # Collaboration APIs 
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ deps.py                     # Dependencies
‚îÇ   ‚îú‚îÄ‚îÄ services/                       # Business logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai_service.py               # OpenAI integration
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ recommendation_service.py   # ML recommendations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ maps_service.py             # Google Maps integration
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ weather_service.py          # Weather APIs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ trip_optimizer.py           # Route optimization
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ websocket_service.py        # Real-time collaboration 
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ template_service.py         # Template management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notification_service.py     # Push notifications
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ youtube_service.py          # YouTube API integration (Thu·∫≠n)
‚îÇ   ‚îî‚îÄ‚îÄ main.py                         # FastAPI app
‚îú‚îÄ‚îÄ alembic/                            # Database migrations
‚îú‚îÄ‚îÄ tests/
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ docker-compose.yml
```

## Team Assignment - Ph√¢n chia c√¥ng vi·ªác

### üë®‚Äçüíº D∆∞∆°ng Anh Ki·ªát: Backend Lead & AI Assistant Feature

**Backend modules ph·ª• tr√°ch:**

- `app/core/` - Core backend architecture (Lead)
- `app/models/` - Database models design (Lead)
- `app/services/ai_service.py` - OpenAI chatbot integration
- `app/api/endpoints/chat.py` - Chat APIs
- `app/api/endpoints/auth.py` - Authentication APIs

**Frontend modules ph·ª• tr√°ch:**

- `lib/features/ai_assistant/` - Complete AI Assistant feature
- `lib/core/services/` - API client setup (Lead)

**Nhi·ªám v·ª• ch√≠nh:**

- Lead backend architecture v·ªõi FastAPI + PostgreSQL
- Implement complete AI Assistant feature (backend + frontend)
- Design v√† manage to√†n b·ªô database schema
- Authentication system (login, register, JWT)
- Backend deployment v√† DevOps

### üí∞ L√™ Ph√∫c Khang: Expense Management & Analytics Feature

**Backend modules ph·ª• tr√°ch:**

- `app/api/endpoints/expenses.py` - Complete Expense APIs
- `app/services/analytics_service.py` - Advanced data analytics
- `app/services/currency_service.py` - Multi-currency support

**Frontend modules ph·ª• tr√°ch:**

- `lib/features/expense_tracking/` - Complete expense management
- `lib/features/home/` - Dashboard v·ªõi expense analytics
- `lib/shared/widgets/` - Charts v√† visualization components

**Nhi·ªám v·ª• ch√≠nh:**

- Complete Expense Management feature (backend + frontend)
- Advanced analytics v√† reporting system
- Multi-currency support v·ªõi real-time exchange rates
- Budget planning v√† spending insights
- Export functionality (PDF, Excel)

### üìÖ Nguy·ªÖn Ki·ªÅu Anh Qu√¢n: Frontend Lead & Trip Planning Feature

**Frontend modules ph·ª• tr√°ch:**

- `lib/core/theme/` - Complete design system (Lead)
- `lib/shared/widgets/` - UI component library (Lead)
- `assets/` - Icons, illustrations, animations (Lead)
- `lib/features/trip_planning/` - Complete Trip Planning feature
- `lib/features/collaboration/` - Real-time collaboration system
- Cross-module UI consistency (Lead)

**Backend modules ph·ª• tr√°ch:**

- `app/api/endpoints/trips.py` - Trip management APIs
- `app/api/endpoints/collaboration.py` - Collaboration APIs
- `app/services/websocket_service.py` - Real-time collaboration

**Nhi·ªám v·ª• ch√≠nh:**

- Lead frontend architecture v√† design system
- Complete Trip Planning feature (Notion-style timeline)
- Real-time collaboration system (WebSocket)
- Advanced UI components v√† animations
- Mobile-responsive design v·ªõi 60fps performance

### üéØ Nguy·ªÖn D∆∞∆°ng Gia Thu·∫≠n: Discovery & Maps Feature

**Backend modules ph·ª• tr√°ch:**

- `app/api/endpoints/places.py` - Complete Places APIs
- `app/services/recommendation_service.py` - AI recommendation engine
- `app/services/maps_service.py` - Google Maps integration
- `app/services/weather_service.py` - Weather integration
- `app/services/youtube_service.py` - YouTube API integration

**Frontend modules ph·ª• tr√°ch:**

- `lib/features/discovery/` - Complete discovery system
- `lib/features/auth/` - Authentication UI screens

**Nhi·ªám v·ª• ch√≠nh:**

- Complete Discovery & Maps feature (backend + frontend)
- AI-powered recommendation engine
- Google Places API v√† Maps integration
- Weather API integration cho trip planning
- YouTube API integration cho travel videos v√† guides
- Reviews, ratings v√† photo gallery system

## Development Timeline - 8 weeks

### Phase 1: Foundation Setup (Weeks 1-2)

| Member | Backend Tasks | Frontend Tasks |
|--------|---------------|----------------|
| **Ki·ªát (Backend Lead)** | FastAPI architecture, DB schema, Auth APIs | API client setup, AI Assistant wireframes |
| **Khang** | Expense APIs foundation | Expense UI mockups, dashboard design |
| **Qu√¢n (Frontend Lead)** | Trip APIs foundation | **Complete Design System**, component library |
| **Thu·∫≠n** | Places APIs, Google Maps setup | Discovery UI mockups, auth screens |

### Phase 2: Core Features (Weeks 3-5)

| Member | Backend Tasks | Frontend Tasks |
|--------|---------------|----------------|
| **Ki·ªát** | **Complete AI Assistant backend**, OpenAI integration | **Complete AI Assistant UI**, chat interface |
| **Khang** | **Complete Expense APIs**, analytics engine | **Complete Expense Management**, dashboard charts |
| **Qu√¢n** | Trip APIs, collaboration backend | **Advanced Timeline System**, drag & drop interface |
| **Thu·∫≠n** | **Complete Places APIs**, recommendation ML | **Complete Discovery System**, search & filters |

### Phase 3: Integration & Advanced Features (Weeks 6-7)

| Member | Backend Tasks | Frontend Tasks |
|--------|---------------|----------------|
| **Ki·ªát** | AI trip optimization, chatbot training | Advanced chatbot features, voice input |
| **Khang** | Multi-currency APIs, export services | Advanced analytics, export functionality |
| **Qu√¢n** | **Real-time collaboration**, WebSocket | **Live Collaboration UI**, user presence |
| **Thu·∫≠n** | Weather APIs, YouTube API, reviews system | Maps integration, video content, photo gallery |

### Phase 4: Polish & Testing (Week 8)

- Integration testing between frontend/backend
- Performance optimization
- UI/UX refinements
- Bug fixes v√† stability
- Demo preparation

## API Endpoints Design

### Authentication APIs

```
POST /api/auth/register
POST /api/auth/login  
POST /api/auth/refresh
GET /api/auth/profile
```

### Trip Planning APIs (Core)

```
# Basic Trip Management
GET /api/trips                    # User's trips
POST /api/trips                   # Create trip
GET /api/trips/{trip_id}         # Trip details
PUT /api/trips/{trip_id}         # Update trip
DELETE /api/trips/{trip_id}      # Delete trip

# Activity Management
POST /api/trips/{trip_id}/activities  # Add activity
PUT /api/activities/{activity_id}     # Update activity
DELETE /api/activities/{activity_id}  # Delete activity
POST /api/activities/batch            # Batch operations
POST /api/trips/{trip_id}/optimize    # AI optimize route

# Collaboration APIs (Qu√¢n's specialty)
POST /api/trips/{trip_id}/collaborators     # Add collaborator
DELETE /api/trips/{trip_id}/collaborators/{user_id}  # Remove collaborator
GET /api/trips/{trip_id}/collaborators      # List collaborators
PUT /api/trips/{trip_id}/permissions        # Update permissions
GET /api/trips/{trip_id}/activity-feed      # Get activity feed
POST /api/trips/{trip_id}/comments          # Add comment
GET /api/activities/{activity_id}/comments  # Get comments

# Template System
GET /api/templates                    # Public templates
POST /api/templates                   # Create template
GET /api/templates/{template_id}      # Template details
POST /api/trips/{trip_id}/apply-template  # Apply template
GET /api/users/templates              # User's templates

# Real-time Collaboration
WS /api/trips/{trip_id}/live          # WebSocket for real-time sync
POST /api/trips/{trip_id}/presence    # Update user presence
GET /api/trips/{trip_id}/conflicts    # Get merge conflicts
POST /api/trips/{trip_id}/resolve     # Resolve conflicts
```

### Discovery APIs

```
GET /api/places/search           # Search places
GET /api/places/{place_id}       # Place details
GET /api/places/recommendations  # AI recommendations
POST /api/places/{place_id}/reviews  # Add review
GET /api/places/categories       # Place categories
```

### Chatbot APIs (Core)

```
POST /api/chat/message           # Send message
GET /api/chat/history           # Chat history
POST /api/chat/trip-advice      # Trip-specific advice
POST /api/chat/optimize-itinerary # Itinerary optimization
```

### Expense APIs (Basic)

```
GET /api/expenses               # User expenses
POST /api/expenses             # Add expense
PUT /api/expenses/{expense_id} # Update expense  
DELETE /api/expenses/{expense_id} # Delete expense
GET /api/expenses/analytics    # Expense analytics
```

## Development Setup

### üöÄ H∆∞·ªõng d·∫´n ch·∫°y d·ª± √°n (Quick Start)

#### B∆∞·ªõc 1: Clone repository

```bash
git clone https://github.com/lephuckhang186/TravelerApplication.git
cd TravelerApplication
```

#### B∆∞·ªõc 2: Setup Backend (Python FastAPI)

```bash
# 1. Di chuy·ªÉn v√†o th∆∞ m·ª•c Backend
cd Backend

# 2. T·∫°o virtual environment
python -m venv venv
# Windows PowerShell:
venv\Scripts\Activate.ps1
# Windows CMD:
venv\Scripts\activate.bat
# macOS/Linux:
source venv/bin/activate

# 3. C√†i ƒë·∫∑t dependencies
pip install -r requirements.txt

# 4. Thi·∫øt l·∫≠p Firebase (c·∫ßn thi·∫øt)
# T·∫°o file firebase-service-account.json trong th∆∞ m·ª•c Backend/
# T·∫£i t·ª´ Firebase Console -> Project Settings -> Service Accounts

# 5. Thi·∫øt l·∫≠p bi·∫øn m√¥i tr∆∞·ªùng
# T·∫°o file .env trong Backend/ v·ªõi n·ªôi dung:
echo 'FIREBASE_SERVICE_ACCOUNT_PATH="./firebase-service-account.json"' > .env

# 6. Ch·∫°y server
python run_server.py
# Ho·∫∑c:
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# Server s·∫Ω ch·∫°y t·∫°i: http://localhost:8000
# API Documentation: http://localhost:8000/docs
```

#### B∆∞·ªõc 3: Setup Frontend (Flutter)

```bash
# 1. Di chuy·ªÉn v·ªÅ th∆∞ m·ª•c root
cd ..

# 2. Ki·ªÉm tra Flutter ƒë√£ ƒë∆∞·ª£c c√†i ƒë·∫∑t
flutter doctor

# 3. C√†i ƒë·∫∑t dependencies
flutter pub get

# 4. Ch·∫°y ·ª©ng d·ª•ng Flutter
flutter run

# Ho·∫∑c ch·∫°y tr√™n emulator/device c·ª• th·ªÉ:
flutter run -d chrome        # Web browser
flutter run -d android      # Android emulator
flutter run -d ios          # iOS simulator
```

#### B∆∞·ªõc 4: Ki·ªÉm tra k·∫øt n·ªëi

```bash
# Test API backend
curl http://localhost:8000/health

# K·∫øt qu·∫£ mong ƒë·ª£i:
# {"status": "healthy", "message": "TravelPro Backend API", ...}
```

### üõ†Ô∏è Troubleshooting th∆∞·ªùng g·∫∑p

#### Backend Issues

```bash
# L·ªói Firebase credentials:
# 1. ƒê·∫£m b·∫£o firebase-service-account.json t·ªìn t·∫°i
# 2. Ki·ªÉm tra ƒë∆∞·ªùng d·∫´n trong .env file
# 3. Ki·ªÉm tra quy·ªÅn file

# L·ªói import modules:
# 1. ƒê·∫£m b·∫£o ƒëang trong virtual environment: venv\Scripts\activate
# 2. C√†i l·∫°i dependencies: pip install -r requirements.txt
# 3. Ki·ªÉm tra Python version: python --version (c·∫ßn >= 3.8)

# L·ªói port ƒë√£ ƒë∆∞·ª£c s·ª≠ d·ª•ng:
# Thay ƒë·ªïi port: uvicorn app.main:app --port 8001
```

#### Frontend Issues

```bash
# L·ªói Flutter dependencies:
flutter clean
flutter pub get

# L·ªói k·∫øt n·ªëi API:
# Ki·ªÉm tra baseUrl trong lib/core/config/api_config.dart
# ƒê·∫£m b·∫£o backend ƒëang ch·∫°y tr√™n ƒë√∫ng port

# L·ªói build:
flutter clean
flutter pub get
flutter run --debug
```

### Backend Setup (Chi ti·∫øt)

```bash
# 1. Clone v√† setup backend
git clone https://github.com/lephuckhang186/TravelerApplication.git
cd TravelerApplication/Backend

# 2. Create virtual environment
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 3. Install dependencies
pip install -r requirements.txt

# 4. Setup environment variables
cp .env.example .env
# C·∫≠p nh·∫≠t DATABASE_URL, FIREBASE_SERVICE_ACCOUNT_PATH, etc.

# 5. Setup database (n·∫øu s·ª≠ d·ª•ng)
# alembic upgrade head

# 6. Run development server
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### Frontend Setup (Chi ti·∫øt)

```bash
# 1. Setup Flutter project
cd TravelerApplication
flutter pub get

# 2. Configure API endpoints
# C·∫≠p nh·∫≠t base URL trong lib/core/config/api_config.dart

# 3. Run Flutter app
flutter run
```

### Environment Variables

#### Backend (.env)

```bash
DATABASE_URL=postgresql://user:password@localhost/travelpro_db
REDIS_URL=redis://localhost:6379
OPENAI_API_KEY=your_openai_api_key
GOOGLE_MAPS_API_KEY=your_google_maps_key
WEATHER_API_KEY=your_weather_api_key
YOUTUBE_API_KEY=your_youtube_api_key
SECRET_KEY=your_jwt_secret_key
```

#### Frontend (API Constants)

```dart
class ApiConstants {
  static const String baseUrl = 'http://localhost:8000/api';
  static const String chatEndpoint = '/chat';
  static const String tripsEndpoint = '/trips';
  static const String placesEndpoint = '/places';
}
```

## Git Workflow

### Branch Strategy

```bash
main                    # Production
‚îî‚îÄ‚îÄ develop            # Development integration
    ‚îú‚îÄ‚îÄ backend/        # Backend development
    ‚îÇ   ‚îú‚îÄ‚îÄ feature/chat-api     # Ki·ªát
    ‚îÇ   ‚îî‚îÄ‚îÄ feature/places-api   # Thu·∫≠n
    ‚îî‚îÄ‚îÄ frontend/       # Frontend development
        ‚îú‚îÄ‚îÄ feature/timeline-ui   # Qu√¢n
        ‚îî‚îÄ‚îÄ feature/expense-ui    # Khang
```

### Daily Workflow

```bash
# 1. L·∫•y code m·ªõi nh·∫•t
git checkout develop
git pull origin develop

# 2. T·∫°o/chuy·ªÉn sang feature branch
git checkout -b feature/your-feature-name

# 3. Commit th∆∞·ªùng xuy√™n
git add .
git commit -m "feat: add trip planning timeline"

# 4. Push v√† t·∫°o Pull Request
git push origin feature/your-feature-name
# T·∫°o PR tr√™n GitHub, assign reviewer
```

## Testing Strategy

### Backend Testing (Python)

```bash
# Unit tests
pytest tests/unit/

# Integration tests
pytest tests/integration/

# API tests
pytest tests/api/

# Test coverage
pytest --cov=app
```

### Frontend Testing (Flutter)

```bash
# Unit tests
flutter test test/unit/

# Widget tests  
flutter test test/widget/

# Integration tests
flutter test integration_test/

# Test coverage
flutter test --coverage
```

## Computational Thinking Application

### 1. Problem Analysis (Ph√¢n t√≠ch v·∫•n ƒë·ªÅ)

- **Input:** S·ªü th√≠ch, ng√¢n s√°ch, th·ªùi gian, v·ªã tr√≠ GPS
- **Output:** Danh s√°ch ƒë·ªÅ xu·∫•t ƒë∆∞·ª£c c√° nh√¢n h√≥a
- **Context:** Gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ du l·ªãch thi·∫øu th√¥ng tin v√† c√° nh√¢n h√≥a

### 2. Decomposition (Ph√¢n r√£ v·∫•n ƒë·ªÅ)

- Module l·∫≠p k·∫ø ho·∫°ch du l·ªãch
- H·ªá th·ªëng ƒë·ªÅ xu·∫•t th√¥ng minh  
- Giao di·ªán ng∆∞·ªùi d√πng
- T√≠ch h·ª£p AI v√† x·ª≠ l√Ω d·ªØ li·ªáu

### 3. Pattern Recognition (Nh·∫≠n d·∫°ng m·∫´u)

- Ph√¢n t√≠ch h√†nh vi ng∆∞·ªùi d√πng
- Clustering ƒë·ªãa ƒëi·ªÉm theo lo·∫°i h√¨nh
- Pattern matching cho recommendation

### 4. Abstraction (Tr·ª´u t∆∞·ª£ng h√≥a)

- User preferences model
- Location v√† rating abstraction  
- API service abstraction layer

### 5. Algorithm Design (Thi·∫øt k·∫ø thu·∫≠t to√°n)

- Collaborative filtering cho recommendation
- Dijkstra/A* cho route optimization
- NLP processing cho chatbot

## Database Schema Design

### Core Tables

```sql
-- Users table
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    email VARCHAR(255) UNIQUE NOT NULL,
    name VARCHAR(255) NOT NULL,
    avatar_url VARCHAR(500),
    preferences JSONB,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Trips table (Core)
CREATE TABLE trips (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    title VARCHAR(255) NOT NULL,
    description TEXT,
    destination VARCHAR(255),
    start_date DATE,
    end_date DATE,
    budget DECIMAL(10,2),
    currency VARCHAR(3),
    is_collaborative BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Places table
CREATE TABLE places (
    id SERIAL PRIMARY KEY,
    google_place_id VARCHAR(255) UNIQUE,
    name VARCHAR(255) NOT NULL,
    address TEXT,
    latitude DECIMAL(10,8),
    longitude DECIMAL(11,8),
    category VARCHAR(100),
    rating DECIMAL(2,1),
    photo_urls TEXT[],
    description TEXT
);

-- Activities table (Core - Timeline items)
CREATE TABLE activities (
    id SERIAL PRIMARY KEY,
    trip_id INTEGER REFERENCES trips(id),
    place_id INTEGER REFERENCES places(id),
    title VARCHAR(255) NOT NULL,
    description TEXT,
    start_time TIMESTAMP,
    end_time TIMESTAMP,
    estimated_cost DECIMAL(10,2),
    notes TEXT,
    order_index INTEGER,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Expenses table (Basic)
CREATE TABLE expenses (
    id SERIAL PRIMARY KEY,
    trip_id INTEGER REFERENCES trips(id),
    user_id INTEGER REFERENCES users(id),
    title VARCHAR(255) NOT NULL,
    amount DECIMAL(10,2) NOT NULL,
    currency VARCHAR(3),
    category VARCHAR(50),
    date DATE,
    notes TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Chat messages (AI Assistant)
CREATE TABLE chat_messages (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    trip_id INTEGER REFERENCES trips(id),
    message TEXT NOT NULL,
    is_from_user BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Trip Collaborators (Qu√¢n's collaboration system)
CREATE TABLE trip_collaborators (
    id SERIAL PRIMARY KEY,
    trip_id INTEGER REFERENCES trips(id),
    user_id INTEGER REFERENCES users(id),
    role VARCHAR(20) DEFAULT 'viewer', -- owner, editor, viewer
    invited_by INTEGER REFERENCES users(id),
    joined_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(trip_id, user_id)
);

-- Activity Comments
CREATE TABLE activity_comments (
    id SERIAL PRIMARY KEY,
    activity_id INTEGER REFERENCES activities(id),
    user_id INTEGER REFERENCES users(id),
    comment TEXT NOT NULL,
    parent_comment_id INTEGER REFERENCES activity_comments(id),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Trip Templates
CREATE TABLE trip_templates (
    id SERIAL PRIMARY KEY,
    created_by INTEGER REFERENCES users(id),
    title VARCHAR(255) NOT NULL,
    description TEXT,
    destination VARCHAR(255),
    duration_days INTEGER,
    category VARCHAR(100),
    is_public BOOLEAN DEFAULT FALSE,
    usage_count INTEGER DEFAULT 0,
    rating DECIMAL(2,1) DEFAULT 0,
    template_data JSONB, -- Serialized timeline structure
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Real-time Presence (for collaboration)
CREATE TABLE user_presence (
    id SERIAL PRIMARY KEY,
    trip_id INTEGER REFERENCES trips(id),
    user_id INTEGER REFERENCES users(id),
    cursor_position JSONB,
    selected_activity_id INTEGER,
    last_seen TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(trip_id, user_id)
);

-- Change History (for version control)
CREATE TABLE trip_changes (
    id SERIAL PRIMARY KEY,
    trip_id INTEGER REFERENCES trips(id),
    user_id INTEGER REFERENCES users(id),
    change_type VARCHAR(50), -- create, update, delete, move
    entity_type VARCHAR(50), -- trip, activity, comment
    entity_id INTEGER,
    old_data JSONB,
    new_data JSONB,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Activity Mentions (for notifications)
CREATE TABLE activity_mentions (
    id SERIAL PRIMARY KEY,
    comment_id INTEGER REFERENCES activity_comments(id),
    mentioned_user_id INTEGER REFERENCES users(id),
    mentioned_by INTEGER REFERENCES users(id),
    is_read BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

## External APIs Integration

### üó∫Ô∏è Maps & Location

- **Google Maps:** Places, Directions, Geocoding
- **OpenStreetMap:** Alternative mapping solution
- **Foursquare:** Venue data v√† reviews

### üé• Video Content

- **YouTube Data API:** Travel videos v√† destination guides
- **Video Recommendations:** AI-curated travel content
- **Local Creator Content:** Discover local travel creators

### üå¶Ô∏è Weather & Context

- **OpenWeatherMap:** Weather forecasts
- **Time Zone DB:** Local time information

### ü§ñ AI & ML Services

- **OpenAI GPT-4:** Chatbot conversation
- **Google Cloud AI:** Text analysis
- **Custom ML Models:** Recommendation engine

### üí∞ Financial Services

- **ExchangeRate-API:** Real-time currency conversion
- **Fixer.io:** Alternative currency API

## Success Metrics - Ch·ªâ ti√™u th√†nh c√¥ng

### üé• Demo Deliverables

1. **Functional MVP:** Core timeline planning + expense tracking
2. **AI Chatbot:** Working assistant v·ªõi contextual responses
3. **Backend APIs:** Full REST API v·ªõi Python FastAPI
4. **UI/UX Showcase:** Notion-style timeline v·ªõi smooth interactions
5. **Live Demo:** Real-time trip planning v√† collaborative editing

### üìà Performance Targets

- **API Response:** < 2 seconds average
- **App Launch:** < 3 seconds on mobile
- **Offline Capability:** Core features work without internet
- **Cross-platform:** Consistent experience iOS/Android
- **Team Velocity:** 0% merge conflicts, 100% parallel development

### üìä Technical Achievements

- **Backend:** Scalable FastAPI + PostgreSQL + Redis architecture
- **AI Integration:** OpenAI GPT-4 v·ªõi contextual trip advice
- **Advanced UI/UX:** Notion-level timeline complexity v·ªõi Flutter
- **Real-time Collaboration:** WebSocket-powered live editing v·ªõi user presence
- **Mobile Performance:** 60fps timeline animations v·ªõi complex interactions
- **Design System:** Comprehensive Material Design 3 implementation
- **Accessibility:** WCAG 2.1 compliant collaborative interface
- **Conflict Resolution:** Smart merge system cho concurrent editing
- **Cross-platform:** Consistent experience across all devices
- **Data Analytics:** Expense insights v√† trip optimization

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---
